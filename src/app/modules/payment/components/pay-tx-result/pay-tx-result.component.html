<div class="post-pay-wrap" *ngIf="payResult$ |async as result">
  <!-- SUCCESS -->
  <ng-container *ngIf="paySuccessFlag">
    <div class="result">
      <img src="./assets/images/thanks.png" alt="">
    </div>
    <div class="order-form">
      <div class="order-meta">
        <div class="order-num receipt-data"><b>Order#: </b>{{result.transactionId}}</div>
        <div class="date receipt-data"><b>Date:</b> {{result.dateTime }} </div>
      </div>
      <div class="order-items">
        <ng-container *ngFor="let item of items$ |async">
          <div>
            <div class="receipt-data qty-price">{{item.quantity}} @ ${{item.price |number: '1.2'}}</div>
            <div class="receipt-data description">{{item.name}}</div>
              <div class="receipt-data subtotal">
                ${{item.subtotal}}
                </div>
            </div>
        </ng-container>
      </div>
    </div> <!-- order form -->
    <label class="total receipt-data">${{result.amount | number: '1.2'}}</label>
    <div class="post-msg">Pick it up around: <br>
    now + 10m</div>
    <button type="button" class="btn1 btn btn-primary btn-lg">Email me my receipt</button>
    <button type="button" class="btn2 btn btn-success btn-lg"
      routerLink="/">Done</button>
  </ng-container> <!-- /success-->

    <!-- FAIL -->
  <ng-container *ngIf="!paySuccessFlag">
      <div class="result">
        <img src="./assets/images/transaction_fail.png" alt="">
      </div>
      <div class="order-form">
        <div class="order-meta">
          <div class="order-num receipt-data"><b>Transaction Id:</b> {{result.transactionId}} </div>
          <div class="date receipt-data"><b>Date:</b> {{result.dateTime}}</div>
        </div>

      </div> <!-- order form -->
      <div class="total receipt-data">${{result.amount}}</div>
      <div class="post-msg failed">Payment Incomplete!</div>
      <button type="button" class="btn1 btn btn-success btn-lg"
      (click)="flipResults()"
      routerLink="/post-pay">Try Again</button>
      <button type="button" class="btn2 btn btn-danger btn-lg"
      (click)="openCancelConfirm()">Cancel</button>
    </ng-container>
    <!-- /fail -->

  <!-- CANCEL POPUP -->
  <div class="popup-screen-cover" *ngIf="popupFlag">
    <div class="popup-window">

      <ng-container *ngIf="confirmFlag">
        <div class="popup-contents">
          <div class="msg">
            <div class="cancel">Do you <em>really</em> want to cancel this transaction?</div>
          </div>
        </div>
        <button type="button" class="cancel-btn btn btn-danger btn-lg"
        (click)="confirmCancel()"
        routerLink="/order/order-list">
          Cancel Payment
        </button>
      </ng-container> <!-- confirm popup -->

      <!-- CLOSE BUTTON-->
      <button (click)="closePopup()" class="btn btn-primary close-btn btn-lg">
        Close
      </button><!-- POPUP: CLOSE BUTTON -->
    </div> <!-- popup window -->
  </div> <!-- popup cover -->

</div>
